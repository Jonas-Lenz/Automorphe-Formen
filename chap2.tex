\chapter{Die $p$-adischen Zahlen}
In diesem Kapitel betrachten wir nun bestimmte Absolutbeträge und vervollständigen $\Q$ bezüglich deren Topologien.

Für $x\in \Q$ definieren wir
\begin{align*}
\abs{x}_\infty\coloneqq\begin{cases}
x, &\text{ falls } x\geq 0,\\
-x, &\text{ falls } x<0.
\end{cases}
\end{align*}
Dann ist $\abs{\cdot}_\infty$ ein Absolutbetrag.

Sei $p>0$ eine Primzahl. Wir schreiben $x\in \Q^\ast$ als $x=p^n \frac{a}{b}$ mit $p \nmid ab$ und definieren
\begin{align*}
\abs{x}_p \coloneqq p^{-n}.
\end{align*}
Außerdem setzen wir $\abs{0}_p=0$.
Dann ist der $p$-adische Betrag $\abs{\cdot}_p$ ein nicht-archimedischer Absolutbetrag auf $\Q$.
Mit $d_p$ bezeichnen wir die Metrik, die durch $\abs{\cdot}_p$ induziert wird.
Es gilt die verschärfte Dreiecksungleichung
\begin{align*}
\abs{x+y}_p\leq \max{(\abs{x}_p,\abs{y}_p)}.
\end{align*}
Ist $\abs{x}_p \not= \abs{y}_p$ so gilt Gleichheit.
\begin{bsp}

\begin{enumerate}[label=\roman*)]
\item Für eine Primzahl $p$ konvergiert die Folge $1,p,p^2,\dots$ $p$-adisch gegen $0$, da $d_p(0,p^n)=p^{-n}\to 0$.
\item Die Folge $1,\frac{1}{10},\frac{1}{10^2},\dots$ ist keine Cauchy-Folge bezüglich $\abs{\cdot}_p$.
\end{enumerate}
\end{bsp}

Tatsächlich kann man die Absolutbeträge auf $\Q$ leicht charakterisieren.
\begin{thm}[Ostrowski]
Ein Absolutbetrag auf $\Q$ ist äquivalent zu $\abs{\cdot}_\infty$ oder zu einem $\abs{\cdot}_p$ für eine Primzahl $p$.
\end{thm}

Die folgende Formel wird an einigen Stellen nützlich sein.

\begin{satz}[Produktformel]
Sei $x\in \Q^\ast$. Dann gilt
\begin{align*}
\abs{x}_\infty \prod_p \abs{x}_p=1.
\end{align*}
\end{satz}

\begin{bem}
Die Primzahlen $2,3,\dots$ werden als \emph{endliche} Primzahlen bezeichnet und $\infty$ als \emph{unendliche} Primzahl.
Wir bezeichnen endliche Primzahlen meist mit $p$ und beliebige Primzahlen mit $\nu$.
\end{bem}

\begin{defi}
Wir fixieren eine endliche Primzahl $p$ und definieren
\begin{align*}
K(x,r)\coloneqq\{y \in \Q \mid d_p(x,y)<r\},\\
\overline{K}(x,r) \coloneqq \{y\in \Q \mid d_p(x,y)\leq r\},
\end{align*}
als \emph{offener} beziehungsweise \emph{abgeschlossener Ball}
bezüglich $\abs{\cdot}_p$ um $x$ mit Radius $r$.
\end{defi}

Im Unterschied zu den bekannten Bällen aus Analysis I besitzen die Bälle
bezüglich der $p$-adischen Beträge einige überraschende Eigenschaften.
Beispielsweise ist einem beliebigen Ball jeder innere Punkt ein Mittelpunkt.

\begin{satz}
Sei $x\in \Q$ und $r \in \R, r>0$.
\begin{enumerate}[label=(\roman*)]
\item Für $x'\in K(x,r)$ gilt
\begin{align*}
K(x',r)=K(x,r).
\end{align*}
\item Für hinreichend kleines $\varepsilon>0$ gilt
\begin{align*}
K(x,r)=\overline{K}(x,r-\varepsilon),\\
\overline{K}(x,r)=K(x,r+\varepsilon).
\end{align*}
\item Für $r\in \R\ \setminus \{p^n \mid n\in \Z\}$ gilt
\begin{align*}
K(x,r)=\overline{K}(x,r).
\end{align*}
\item Sei $r=p^n$ für ein $n\in \Z$. Dann gilt
\begin{align*}
K(x,p^n)=\overline{K}(x,p^{n-1}).
\end{align*}
Außerdem gibt es $x_1,\dots,x_{p-1}\in \overline{K}(x,p^n)$ mit
\begin{align*}
\overline{K}(x,p^n)=\overline{K}(x,p^{n-1})\cup \overline{K}(x_1,p^{n-1})\cup \dots \cup \overline{K}(x_{p-1},p^{n-1})
\end{align*}
wobei die Vereinigungen disjunkt sind.
\end{enumerate}
\begin{proof}
\begin{enumerate}
\item[(i)] Sei $x'\in K(x,r)$ beliebig.
Dann gilt für jedes $y\in K(x,r)$, dass 
\begin{align*}
\abs{x'-y}_p&=\abs{(x'-x)+(x-y)}_p\\
&\leq \max(\abs{x'-x}_p,\abs{x-y}_p)<r.
\end{align*}
Also folgt $y\in K(x',r)$ und somit $K(x,r)\subseteq K(x',r)$.
Die umgekehrte Inklusion folgt analog.
\item[(ii) and (iii)] Die Distanzfunktion $d_p(x,y)=\abs{x-y}_p$ nimmt höchstens abzählbar viele Werte an, nämlich $p^n$ für ein $n\in \Z$ oder $0$.
Also gilt für $r>0$ und hinreichend kleines $\varepsilon>0$, dass
\begin{align*}
\abs{x-y}_p<r \Leftrightarrow \abs{x-y}_p \leq r-\varepsilon,\\
\abs{x-y}_p \leq r \Leftrightarrow \abs{x-y}_p<r+\varepsilon.
\end{align*}
Falls $r$ nicht von der Form $p^n$ für ein $n\in \Z$ ist, dann gilt
\begin{align*}
\abs{x-y}_p<r \Leftrightarrow \abs{x-y}_p\leq r.
\end{align*}
Dies beweist (ii) und (iii).
\item[(iv)] Nach Definition der Norm gilt
\begin{align*}
\abs{x-y}_p<p^n \Leftrightarrow \abs{x-y}_p\leq p^{n-1}.
\end{align*}
Die restliche Aussage verbleibt als Übung.
\qedhere
\end{enumerate}
\end{proof}
\end{satz}

\begin{satz}
Sei $(x_n)_{n \in \N} \subseteq \Q$ eine $p$-adische Cauchyfolge, die $p$-adisch nicht gegen $0$ konvergiert.
Dann existiert ein $N \in \N$, sodass $\abs{x_n}_p$ für alle $n>N$ konstant ist.
\begin{proof}
Sei $(x_n)_{n\in \N}$ eine Cauchyfolge bezüglich $\abs{\cdot}_p$ also folgt, dass $(\abs{x_n}_p)$ eine Cauchyfolge in $\R$ ist.
Daher ist $(\abs{x_n}_p)$ konvergent in $\R$. Da es keine Nullfolge ist, muss sie stationär werden.
\end{proof}
\end{satz}

\begin{defi}
Wir definieren $\Q_p$ als die Vervollständigung von $\Q$ bezüglich $\abs{\cdot}_p$.
Die obigen Eigenschaft von $\abs{\cdot}_p$ setzen sich auf $\Q_p$ fort.
\end{defi}

\begin{bsp}
Sei $x\in \Q_p^\ast$. Aufgrund der Stetigkeit der Norm gilt dann $\abs{x}_p=p^n$ für ein $n\in \Z$.
\end{bsp}
Als nächstes beweisen wir den Satz von Bolzano-Weierstraß für $p$-adische Zahlen.

\begin{thm}
Jede beschränkte Folge in $\Q_\nu$ hat einen Häufungspunkt.
\begin{proof}
Für $\nu=\infty$ ist dies die Aussage des Satzes von Bolzano-Weierstraß.
Sei also $(x_n)_{n\in \N} \subseteq \Q_p$ eine beschränkte Folge in $\Q_p$.
Nach Definition ist jedes $x_n$ eine Cauchyfolge in $\Q$ bezüglich $\abs{\cdot}_p$.
Für jedes $n \in \N$ wählen wir $x_n' \in \Q$ sodass
\begin{align*}
\abs{x_n-x_n'}<p^{-n}
\end{align*}
gilt, dies geht aufgrund der Dichtheit von $\Q$ in $\Q_p$.
Die Folge $(x_n')\subseteq \Q$ ist beschränkt in $\abs{\cdot}_p$.
Wir werden zeigen, dass $(x_n')$ eine Teilfolge besitzt, die Cauchy ist.
Diese Teilfolge definiert eine Zahl $x'\in \Q_p$.
Die zugehörige Teilfolge von $(x_n)$ wird ebenfalls gegen $x$ konvergieren.
Wir konstruieren die Cauchy Teilfolge von $(x_n')$ folgendermaßen.
Da $(x_n')$ beschränkt ist, existieren $y \in \Q$ und $m\in \Z$ mit $(x_n')\subseteq \overline{K}(y,p^m)$. Dieser zerfällt in endlich viele ($p$ Stück) disjunkte abgeschlossene Bälle mit Radius $p^{m-1}$.
Mindestens einer dieser Bälle muss unendlich viele Folgenglieder $(x_n')$ enthalten.
Beginnend mit $x_1$ entfernen wir alle Elemente der Folge, die nicht in diesem Ball liegen.
Dieser Ball zerfällt erneut und so weiter.
Dadurch erhalten wir eine Teilfolge $(x_n'')$ von $(x_n')$ mit der Eigenschaft,
dass alle $x_i''$ für alle $i\geq N$ in einem abgeschlossen Ball
mit Radius $p^{m-N}$ liegen. Damit folgt
\begin{align*}
\abs{x_i''-x_j''}_p\leq p^{m-N}
\end{align*}
für alle $i,j\geq N$. Somit wir haben unsere gewünschte Cauchyfolge konstruiert.
\end{proof}
\end{thm}

\begin{cor}
Eine Menge ist genau dann in $\Q_p$ kompakt, wenn sie beschränkt und abgeschlossen ist.
\end{cor}

\begin{defi}
Wir definieren die \emph{$p$-adischen ganzen Zahlen} durch
\begin{align*}
\Z_p\coloneqq \{x\in \Q_p \mid \abs{x}_p \leq 1\}.
\end{align*}
Dies ist ein Unterring von $\Q_p$.
\end{defi}

\begin{satz}
Die $p$-adischen ganzen Zahlen $\Z_p$ sind beschränkt, abgeschlossen und offen.
Insbesondere ist $\Z_p$ kompakt.
\end{satz}

\begin{satz}
Sei $x\in \Z_p$ und $n\in \N_{\geq 1}$.
Dann existiert ein eindeutiges $\alpha \in \Z$ mit $0\leq \alpha <p^n$ und
\begin{align*}
\abs{x-\alpha}_p\leq p^{-n}.
\end{align*}
\begin{proof}
Da $\Q$ dicht in $\Q_p$ ist, existiert $t \in \Q$ mit $\abs{t-x}_p \leq p^{-n}$.
Dann gilt
\begin{align*}
\abs{t}_p=\abs{(t-x)+x}_p \leq \max(\abs{t-x}_p,\abs{x}_p) \leq 1,
\end{align*}
das heißt $t \in \Z_p$ und $t=\frac{a}{b}$ mit $a,b\in \Z, (a,b)=1$ und $(p,b)=1$.
Wähle $b'\in \Z$ mit $bb'=1 \mod p^n$.
Dann gilt
\begin{align*}
\abs{t-ab'}_p&=\abs{\frac{a}{b}-ab'}_p\\
&=\abs{\frac{a}{b}(1-bb')}_p\\
&=\abs{\frac{a}{b}}_p \abs{1-bb'}_p.
\end{align*}
Für $\alpha \in \Z$ mit $\alpha=ab' \mod p^n$ und $0 \leq \alpha <p^n$ gilt
\begin{align*}
\abs{t-\alpha}_p\leq p^{-n},
\end{align*}
sowie
\begin{align*}
\abs{x-\alpha}_p &=\abs{(x-t)+(t-\alpha)}_p\\
&\leq \max (\abs{x-t}_p,\abs{t-\alpha}_p)\leq p^{-n}.
\end{align*}
Sei $\beta$ ein anderes solches Element. Dann gilt $\abs{\alpha-\beta}\leq p^{-n}$, was $p^n\mid (\alpha-\beta)$ und somit $\alpha=\beta$ impliziert.
\end{proof}
\end{satz}

\begin{cor}
Es gilt $\overline{\Z}=\Z_p$, insbesondere für jedes $x \in \Z_p$ existiert eine Folge
$(\alpha_n)_{n\in \N}\subseteq \Z$ mit $0 \leq \alpha_n<p^n$, $\alpha_n=\alpha_{n-1} \mod p^{n-1}$ und $\abs{x-\alpha_n}\leq p^{-n}$.
Darüber hinaus ist diese Folge eindeutig.
\end{cor}

Sei umgekehrt $(\alpha_n)_{n \in \N}\subseteq \Z$ eine Folge mit $0\leq \alpha_n <p^n$ sowie $\alpha_n=\alpha_{n-1} \mod p^{n-1}$.
Dann ist $(\alpha_n)_{n\in \N}$ nach Konstruktion eine Cauchyfolge und konvergiert daher gegen ein $x\in \Z_p$.

\begin{defi}
Eine Folge von Restklassen $(\alpha_n)_{n\in \N}$ wobei $\alpha_n \in \Z / p^n\Z$ ist, die $\alpha_n=\alpha_{n-1} \mod p^{n-1}$ erfüllt, heißt \emph{kompatibles System}.
Die Menge aller kompatiblen System heißt \emph{projektiver Limes} des Systems.
Der projektive Limes $\lim\limits_{\longleftarrow} \Z /p^n\Z$ ist ein Ring bezüglich punktweiser Addition und Multiplikation.
\end{defi}

\begin{thm}
Die Abbildung
\begin{align*}
\Z_p &\to \lim_{\leftarrow} \Z/p^n\Z\\
x &\mapsto (\alpha_n)_{n\in \Z}
\end{align*}
ist ein Ringisomorphismus.
Weiterhin ist die Abbildung
\begin{align*}
\Z_p &\to \Z /p^n \Z\\
x &\mapsto \alpha_n
\end{align*}
ist surjektiv und ihr Kern ist durch $p^n\Z_p$ gegeben.
Also folgt
\begin{align*}
\Z_p /p^n \Z_p \cong \Z /p^n \Z
\end{align*}
aufgrund des Homomorphiesatzes.
\end{thm}

\begin{lem}
Sei $x\in \Q_p$ mit $\abs{x}_p=p^n$ für ein $n>0$.
Dann gilt $\abs{p^n x}_p=1$, sodass $p^nx\in \Z_p$ folgt.
Dies impliziert
\begin{align*}
\Q_p=\bigcup_{n=1}^\infty p^{-n}\Z_p
\end{align*}
sodass $\Q_p$ der Quotientenkörper von $\Z_p$ ist.
\end{lem}

Für $x\in \Q_p^\ast$ gilt $\abs{x^{-1}}_p=\frac{1}{\abs{x}_p}$ und somit auch
\begin{align*}
\Z_p^\ast=\{x\in \Z_p \mid \abs{x}_p=1\}.
\end{align*}



\begin{prop}
Jedes $x\in \Z_p$ hat eine Darstellung der Form
\begin{align*}
x=\sum_{i=0}^\infty b_i p^i
\end{align*}
mit $b_i \in \{0,\dots,p-1\}$. Weiterhin ist diese Darstellung eindeutig.
\end{prop}
\begin{proof}
Für $x \in \Z_p$ gibt es eine eindeutige Folge $(\alpha_n)_{n\in \N}\subseteq \Z$ mit $0 \leq \alpha_n<p^n$, $\alpha_n=\alpha_{n-1} \mod p^{n-1}$ und $\abs{x-\alpha_n}\leq p^{-n}$.
Insbesondere lassen sich die $\alpha_n$ schreiben durch
\begin{align*}
\alpha_n=\sum_{i=0}^{n-1} b_i p^i
\end{align*}
wobei $b_i \in\{0,\dots,p-1\}$ gilt.
\end{proof}

\begin{prop}
Sei $x\in \Q_p$ mit $\abs{x}_p=p^n$. Dann hat $x$ eine eindeutige Darstellung der Form
\begin{align*}
x=b_{-n}p^{-n}+b_{-n+1}p^{-n+1}+\dots,
\end{align*}
wobei $b_i \in \{0,\dots,p-1\}$ und $b_{-n}\not =0$.
\end{prop}

\begin{bem}
Die Elemente in $\Z_p^\ast$ sind von der Form
\begin{align*}
x=b_0+b_1p+\dots
\end{align*}
mit $b_0\not =0$.
\end{bem}

\begin{defi}
Ein Hausdorffraum heißt \emph{lokal kompakt}, falls jeder Punkt eine kompakte Umgebung hat.
\end{defi}

\begin{bsp}
\begin{enumerate}[label=(\roman*)]
\item Ein kompakter Hausdorffraum ist lokal kompakt.
\item $(\R=\Q_\infty,\abs{\cdot}_\infty)$ ist lokal kompakt.
\end{enumerate}
\end{bsp}

\begin{prop}
$\Q_p$ ist lokal kompakt.
\end{prop}
\begin{proof}
Sei $x\in \Q_p$ und wähle $r>0$. Dann ist $\overline{K}(x,r)$ eine kompakte Umgebung von $x$.
\end{proof}

\begin{prop}
$\Q_p^\ast=\Q_p \setminus \{0\}$ ist lokal kompakt.
\end{prop}
Wir haben bereits gesehen, dass $\Z_p$ offen, abgeschlossen und kompakt ist.
\begin{prop}
$\Z_p^\ast$ ist offen, abgeschlossen und kompakt.
\end{prop}
\begin{proof}
Dies folgt aus der Stetigkeit von $\abs{\cdot} \colon \Q_p \to \R$.
\end{proof}

\begin{prop}
$(\Q_p,+)$, $(\Z_p,+)$, $(Q_p^\ast,\cdot)$, $(\Z_p^\ast,\cdot)$
sind lokal kompakte topologische Gruppen
\end{prop}